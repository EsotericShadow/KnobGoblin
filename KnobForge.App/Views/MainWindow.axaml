<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:KnobForge.App.Controls"
    xmlns:colorpicker="clr-namespace:Avalonia.Controls;assembly=Avalonia.Controls.ColorPicker"
    xmlns:scene="using:KnobForge.Core.Scene"
    x:Class="KnobForge.App.Views.MainWindow"
    Width="1220"
    Height="760"
    Title="KnobForge">
    <Grid RowDefinitions="Auto,*">
        <Border Grid.Row="0"
                Background="#12161A"
                BorderBrush="#2A3138"
                BorderThickness="0,0,0,1"
                Padding="10,8">
            <DockPanel LastChildFill="False">
                <TextBlock DockPanel.Dock="Left"
                           VerticalAlignment="Center"
                           Text="KnobForge"
                           FontSize="14"
                           FontWeight="SemiBold"
                           Foreground="#E6EEF5"/>
                <StackPanel DockPanel.Dock="Right"
                            Orientation="Horizontal"
                            Spacing="8">
                    <Button x:Name="OpenProjectButton"
                            Content="Open..."
                            MinWidth="82"/>
                    <Button x:Name="SaveProjectButton"
                            Content="Save"
                            MinWidth="74"/>
                    <Button x:Name="SaveProjectAsButton"
                            Content="Save As..."
                            MinWidth="94"/>
                    <Button x:Name="RenderButton"
                            Content="Render..."
                            MinWidth="96"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <Grid Grid.Row="1" ColumnDefinitions="240,*,360">
            <Border Grid.Column="0"
                    Background="#111417"
                    BorderBrush="#2A3138"
                    BorderThickness="0,0,1,0"
                    Padding="6">
                <Grid RowDefinitions="Auto,*">
                    <TextBlock Grid.Row="0"
                               Text="Scene"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Margin="4"/>

                    <ListBox Grid.Row="1"
                             x:Name="SceneListBox"
                             Background="#111417"
                             Foreground="#E6EEF5"
                             BorderThickness="0">
                        <ListBox.ItemsPanel>
                            <ItemsPanelTemplate>
                                <StackPanel />
                            </ItemsPanelTemplate>
                        </ListBox.ItemsPanel>
                        <ListBox.Styles>
                            <Style Selector="ListBoxItem">
                                <Setter Property="Background" Value="Transparent"/>
                                <Setter Property="Padding" Value="0"/>
                            </Style>
                        </ListBox.Styles>
                        <ListBox.ItemTemplate>
                            <DataTemplate x:DataType="scene:SceneNode">
                                <TextBlock Text="{Binding Name}"
                                           Foreground="#E6EEF5"
                                           Margin="4,2"/>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </Border>

            <Border Grid.Column="1" ClipToBounds="True">
                <Grid>
                    <controls:MetalViewport x:Name="MetalViewport" IsVisible="True"/>
                    <Border x:Name="ViewportOverlay"
                            IsHitTestVisible="True"
                            Focusable="True"
                            Background="Transparent"/>
                </Grid>
            </Border>

            <Border Grid.Column="2"
                    Background="#161A1D"
                    BorderBrush="#2A3138"
                    BorderThickness="1,0,0,0"
                    Padding="10">
                <Grid RowDefinitions="Auto,*">
                    <DockPanel Grid.Row="0" LastChildFill="True" Margin="0,0,0,8">
                        <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" Spacing="6">
                            <Button x:Name="UndoButton" Content="Undo" Width="62"/>
                            <Button x:Name="RedoButton" Content="Redo" Width="62"/>
                        </StackPanel>
                        <TextBox x:Name="InspectorSearchTextBox"
                                 Watermark="Search settings..."
                                 Height="30"
                                 Margin="0,0,8,0"/>
                    </DockPanel>

                    <TabControl Grid.Row="1" x:Name="InspectorTabControl">
                    <TabItem x:Name="LightingTabItem" Header="Lighting">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="10" Margin="4">
                                <TextBlock Text="Lighting" FontSize="18" FontWeight="SemiBold"/>
                                <TextBlock Text="Viewport: Cmd+LMB orbit, MMB pan, wheel zoom, R reset"
                                           FontSize="11"
                                           Foreground="#A9B4BF"/>

                                <Expander Header="Mode" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <ComboBox x:Name="LightingModeCombo"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Lights" IsExpanded="True">
                                    <StackPanel Spacing="8" Margin="0,6,0,0">
                                        <ListBox x:Name="LightListBox" Height="125"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <Button x:Name="AddLightButton" Content="Add" Width="72"/>
                                            <Button x:Name="RemoveLightButton" Content="Delete" Width="72"/>
                                            <Button x:Name="CenterLightButton" Content="Center" Width="72"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Selected Light: Transform &amp; Intensity" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Type"/>
                                        <ComboBox x:Name="LightTypeCombo"/>

                                        <TextBlock Text="X"/>
                                        <controls:SpriteKnobSlider x:Name="LightXSlider" Minimum="-2000" Maximum="2000"/>
                                        <TextBlock x:Name="LightXValueText"/>

                                        <TextBlock Text="Y"/>
                                        <controls:SpriteKnobSlider x:Name="LightYSlider" Minimum="-2000" Maximum="2000"/>
                                        <TextBlock x:Name="LightYValueText"/>

                                        <TextBlock Text="Z"/>
                                        <controls:SpriteKnobSlider x:Name="LightZSlider" Minimum="-3000" Maximum="3000"/>
                                        <TextBlock x:Name="LightZValueText"/>

                                        <TextBlock Text="Direction"/>
                                        <controls:SpriteKnobSlider x:Name="DirectionSlider" Minimum="0" Maximum="360"/>
                                        <TextBlock x:Name="DirectionValueText"/>

                                        <TextBlock Text="Intensity"/>
                                        <controls:SpriteKnobSlider x:Name="IntensitySlider" Minimum="0" Maximum="3"/>
                                        <TextBlock x:Name="IntensityValueText"/>

                                        <TextBlock Text="Falloff"/>
                                        <controls:SpriteKnobSlider x:Name="FalloffSlider" Minimum="0" Maximum="3"/>
                                        <TextBlock x:Name="FalloffValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Selected Light: Color" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="R" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="LightRSlider" Minimum="0" Maximum="255" Width="210"/>
                                            <TextBlock x:Name="LightRValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="G" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="LightGSlider" Minimum="0" Maximum="255" Width="210"/>
                                            <TextBlock x:Name="LightGValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="B" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="LightBSlider" Minimum="0" Maximum="255" Width="210"/>
                                            <TextBlock x:Name="LightBValueText" Width="36"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Selected Light: Artistic" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Diffuse Boost"/>
                                        <controls:SpriteKnobSlider x:Name="DiffuseBoostSlider" Minimum="0" Maximum="3"/>
                                        <TextBlock x:Name="DiffuseBoostValueText"/>

                                        <TextBlock Text="Specular Boost"/>
                                        <controls:SpriteKnobSlider x:Name="SpecularBoostSlider" Minimum="0" Maximum="3"/>
                                        <TextBlock x:Name="SpecularBoostValueText"/>

                                        <TextBlock Text="Specular Power"/>
                                        <controls:SpriteKnobSlider x:Name="SpecularPowerSlider" Minimum="1" Maximum="256"/>
                                        <TextBlock x:Name="SpecularPowerValueText"/>
                                    </StackPanel>
                                </Expander>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>

                    <TabItem x:Name="ModelTabItem" Header="Model">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="10" Margin="4">
                                <TextBlock Text="Model" FontSize="18" FontWeight="SemiBold"/>

                                <Expander Header="Reference Profiles" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Reference Knob Style"/>
                                        <ComboBox x:Name="ReferenceStyleCombo"/>
                                        <TextBlock Text="Save Current As"/>
                                        <TextBox x:Name="ReferenceStyleSaveNameTextBox"
                                                 Watermark="My Custom Knob"/>
                                        <Button x:Name="SaveReferenceProfileButton"
                                                Content="Save Profile"
                                                Width="140"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Transform" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Rotation"/>
                                        <controls:SpriteKnobSlider x:Name="RotationSlider" Minimum="0" Maximum="6.283185307179586"/>
                                        <TextBlock x:Name="RotationValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Body Shape" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Body Style"/>
                                        <ComboBox x:Name="BodyStyleCombo"/>

                                        <TextBlock Text="Radius"/>
                                        <controls:SpriteKnobSlider x:Name="ModelRadiusSlider" Minimum="40" Maximum="500"/>
                                        <TextBlock x:Name="ModelRadiusValueText"/>

                                        <TextBlock Text="Height"/>
                                        <controls:SpriteKnobSlider x:Name="ModelHeightSlider" Minimum="20" Maximum="320"/>
                                        <TextBlock x:Name="ModelHeightValueText"/>

                                        <TextBlock Text="Top Scale"/>
                                        <controls:SpriteKnobSlider x:Name="ModelTopScaleSlider" Minimum="0.30" Maximum="1.30"/>
                                        <TextBlock x:Name="ModelTopScaleValueText"/>

                                        <TextBlock Text="Bevel"/>
                                        <controls:SpriteKnobSlider x:Name="ModelBevelSlider" Minimum="0" Maximum="120"/>
                                        <TextBlock x:Name="ModelBevelValueText"/>

                                        <TextBlock Text="Bevel Curve"/>
                                        <controls:SpriteKnobSlider x:Name="BevelCurveSlider" Minimum="0.4" Maximum="3"/>
                                        <TextBlock x:Name="BevelCurveValueText"/>

                                        <TextBlock Text="Crown Profile (Concave â†” Convex)"/>
                                        <controls:SpriteKnobSlider x:Name="CrownProfileSlider" Minimum="-1" Maximum="1"/>
                                        <TextBlock x:Name="CrownProfileValueText"/>

                                        <TextBlock Text="Body Taper"/>
                                        <controls:SpriteKnobSlider x:Name="BodyTaperSlider" Minimum="-0.35" Maximum="0.35"/>
                                        <TextBlock x:Name="BodyTaperValueText"/>

                                        <TextBlock Text="Body Bulge"/>
                                        <controls:SpriteKnobSlider x:Name="BodyBulgeSlider" Minimum="-0.35" Maximum="0.35"/>
                                        <TextBlock x:Name="BodyBulgeValueText"/>

                                        <TextBlock Text="Segments"/>
                                        <controls:SpriteKnobSlider x:Name="ModelSegmentsSlider" Minimum="12" Maximum="180"/>
                                        <TextBlock x:Name="ModelSegmentsValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Spiral Ridge (Geometry)" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Ridge Height"/>
                                        <controls:SpriteKnobSlider x:Name="SpiralRidgeHeightSlider" Minimum="0" Maximum="24"/>
                                        <TextBlock x:Name="SpiralRidgeHeightValueText"/>

                                        <TextBlock Text="Ridge Width"/>
                                        <controls:SpriteKnobSlider x:Name="SpiralRidgeWidthSlider" Minimum="0.4" Maximum="30"/>
                                        <TextBlock x:Name="SpiralRidgeWidthValueText"/>

                                        <TextBlock Text="Spiral Turns"/>
                                        <controls:SpriteKnobSlider x:Name="SpiralTurnsSlider" Minimum="150" Maximum="250"/>
                                        <TextBlock x:Name="SpiralTurnsValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Grip" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Grip Style"/>
                                        <ComboBox x:Name="GripStyleCombo"/>

                                        <TextBlock Text="Grip Type"/>
                                        <ComboBox x:Name="GripTypeCombo"/>

                                        <TextBlock Text="Grip Start"/>
                                        <controls:SpriteKnobSlider x:Name="GripStartSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="GripStartValueText"/>

                                        <TextBlock Text="Grip Height"/>
                                        <controls:SpriteKnobSlider x:Name="GripHeightSlider" Minimum="0.05" Maximum="1"/>
                                        <TextBlock x:Name="GripHeightValueText"/>

                                        <TextBlock Text="Knurl Density"/>
                                        <controls:SpriteKnobSlider x:Name="GripDensitySlider" Minimum="4" Maximum="320"/>
                                        <TextBlock x:Name="GripDensityValueText"/>

                                        <TextBlock Text="Knurl Pitch"/>
                                        <controls:SpriteKnobSlider x:Name="GripPitchSlider" Minimum="0.2" Maximum="24"/>
                                        <TextBlock x:Name="GripPitchValueText"/>

                                        <TextBlock Text="Knurl Depth"/>
                                        <controls:SpriteKnobSlider x:Name="GripDepthSlider" Minimum="0" Maximum="20"/>
                                        <TextBlock x:Name="GripDepthValueText"/>

                                        <TextBlock Text="Knurl Width"/>
                                        <controls:SpriteKnobSlider x:Name="GripWidthSlider" Minimum="0.05" Maximum="3"/>
                                        <TextBlock x:Name="GripWidthValueText"/>

                                        <TextBlock Text="Knurl Sharpness"/>
                                        <controls:SpriteKnobSlider x:Name="GripSharpnessSlider" Minimum="0.5" Maximum="8"/>
                                        <TextBlock x:Name="GripSharpnessValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Collar" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <CheckBox x:Name="CollarEnabledCheckBox"
                                                  Content="Enable Collar"/>

                                        <TextBlock Text="Preset"/>
                                        <DockPanel LastChildFill="True">
                                            <Button x:Name="RefreshCollarLibraryButton"
                                                    Content="Refresh Library"
                                                    DockPanel.Dock="Right"
                                                    Margin="8,0,0,0"
                                                    MinWidth="120"/>
                                            <ComboBox x:Name="CollarPresetCombo"/>
                                        </DockPanel>

                                        <TextBlock Text="Imported Mesh Path (.glb/.stl)"/>
                                        <TextBox x:Name="CollarMeshPathTextBox"
                                                 Watermark="/Users/.../ouroboros.glb"/>
                                        <TextBlock x:Name="CollarResolvedMeshPathText"
                                                   Text="Resolved Source:"
                                                   Foreground="#A9B8C9"
                                                   TextWrapping="Wrap"/>
                                        <TextBlock x:Name="CollarMeshPathStatusText"
                                                   Text="Path status:"
                                                   Foreground="#D4DCE5"
                                                   TextWrapping="Wrap"/>

                                        <TextBlock Text="Imported Scale"/>
                                        <controls:SpriteKnobSlider x:Name="CollarScaleSlider" Minimum="0.05" Maximum="4"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarScaleValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarScaleInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Body Length"/>
                                        <controls:SpriteKnobSlider x:Name="CollarBodyLengthSlider" Minimum="0.6" Maximum="2.4"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarBodyLengthValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarBodyLengthInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Body Thickness"/>
                                        <controls:SpriteKnobSlider x:Name="CollarBodyThicknessSlider" Minimum="0.5" Maximum="2.5"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarBodyThicknessValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarBodyThicknessInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Head Length"/>
                                        <controls:SpriteKnobSlider x:Name="CollarHeadLengthSlider" Minimum="0.5" Maximum="2.5"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarHeadLengthValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarHeadLengthInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Head Thickness"/>
                                        <controls:SpriteKnobSlider x:Name="CollarHeadThicknessSlider" Minimum="0.5" Maximum="2.8"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarHeadThicknessValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarHeadThicknessInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Imported Rotation"/>
                                        <controls:SpriteKnobSlider x:Name="CollarRotateSlider" Minimum="-180" Maximum="180"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarRotateValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarRotateInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Mirror Flip"/>
                                        <StackPanel Orientation="Horizontal" Spacing="12">
                                            <CheckBox x:Name="CollarMirrorXCheckBox" Content="X"/>
                                            <CheckBox x:Name="CollarMirrorYCheckBox" Content="Y"/>
                                            <CheckBox x:Name="CollarMirrorZCheckBox" Content="Z"/>
                                        </StackPanel>

                                        <TextBlock Text="Imported Offset X"/>
                                        <controls:SpriteKnobSlider x:Name="CollarOffsetXSlider" Minimum="-1.5" Maximum="1.5"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarOffsetXValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarOffsetXInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Imported Offset Y"/>
                                        <controls:SpriteKnobSlider x:Name="CollarOffsetYSlider" Minimum="-1.5" Maximum="1.5"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarOffsetYValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarOffsetYInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Vertical Position (Top/Bottom)"/>
                                        <controls:SpriteKnobSlider x:Name="CollarElevationSlider" Minimum="-1.5" Maximum="1.5"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarElevationValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarElevationInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <TextBlock Text="Imported Inflate"/>
                                        <controls:SpriteKnobSlider x:Name="CollarInflateSlider" Minimum="-0.2" Maximum="0.2"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock x:Name="CollarInflateValueText" Width="88" VerticalAlignment="Center"/>
                                            <TextBox x:Name="CollarInflateInputTextBox"
                                                     Width="96"
                                                     HorizontalContentAlignment="Right"/>
                                        </StackPanel>

                                        <Separator/>
                                        <TextBlock Text="Snake Material"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="R" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="CollarMaterialBaseRSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="CollarMaterialBaseRValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="G" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="CollarMaterialBaseGSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="CollarMaterialBaseGValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="B" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="CollarMaterialBaseBSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="CollarMaterialBaseBValueText" Width="36"/>
                                        </StackPanel>

                                        <TextBlock Text="Snake Metallic"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialMetallicSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialMetallicValueText"/>

                                        <TextBlock Text="Snake Roughness"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialRoughnessSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialRoughnessValueText"/>

                                        <TextBlock Text="Snake Pearlescence"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialPearlescenceSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialPearlescenceValueText"/>

                                        <TextBlock Text="Snake Rust"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialRustSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialRustValueText"/>

                                        <TextBlock Text="Snake Wear"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialWearSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialWearValueText"/>

                                        <TextBlock Text="Snake Gunk"/>
                                        <controls:SpriteKnobSlider x:Name="CollarMaterialGunkSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="CollarMaterialGunkValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Indicator" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <CheckBox x:Name="IndicatorEnabledCheckBox"
                                                  Content="Enable Indicator"/>
                                        <CheckBox x:Name="IndicatorCadWallsCheckBox"
                                                  Content="CAD Hard Walls"/>

                                        <TextBlock Text="Shape"/>
                                        <ComboBox x:Name="IndicatorShapeCombo"/>

                                        <TextBlock Text="Relief"/>
                                        <ComboBox x:Name="IndicatorReliefCombo"/>

                                        <TextBlock Text="Profile"/>
                                        <ComboBox x:Name="IndicatorProfileCombo"/>

                                        <TextBlock Text="Width"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorWidthSlider" Minimum="0.005" Maximum="0.35"/>
                                        <TextBlock x:Name="IndicatorWidthValueText"/>

                                        <TextBlock Text="Length"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorLengthSlider" Minimum="0.05" Maximum="0.8"/>
                                        <TextBlock x:Name="IndicatorLengthValueText"/>

                                        <TextBlock Text="Position"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorPositionSlider" Minimum="0.05" Maximum="0.9"/>
                                        <TextBlock x:Name="IndicatorPositionValueText"/>

                                        <TextBlock Text="Thickness"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorThicknessSlider" Minimum="0" Maximum="0.08"/>
                                        <TextBlock x:Name="IndicatorThicknessValueText"/>

                                        <TextBlock Text="Edge Roundness"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorRoundnessSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="IndicatorRoundnessValueText"/>

                                        <TextBlock Text="Color Blend"/>
                                        <controls:SpriteKnobSlider x:Name="IndicatorColorBlendSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="IndicatorColorBlendValueText"/>

                                        <TextBlock Text="Indicator Color"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="R" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="IndicatorColorRSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="IndicatorColorRValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="G" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="IndicatorColorGSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="IndicatorColorGValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="B" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="IndicatorColorBSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="IndicatorColorBValueText" Width="36"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Material" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Material Region"/>
                                        <ComboBox x:Name="MaterialRegionCombo"/>

                                        <TextBlock Text="Base Color"/>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="R" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="MaterialBaseRSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="MaterialBaseRValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="G" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="MaterialBaseGSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="MaterialBaseGValueText" Width="36"/>
                                        </StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="B" Width="14"/>
                                            <controls:SpriteKnobSlider x:Name="MaterialBaseBSlider" Minimum="0" Maximum="1" Width="210"/>
                                            <TextBlock x:Name="MaterialBaseBValueText" Width="36"/>
                                        </StackPanel>

                                        <TextBlock Text="Metallic"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialMetallicSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialMetallicValueText"/>

                                        <TextBlock Text="Roughness"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialRoughnessSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialRoughnessValueText"/>

                                        <TextBlock Text="Pearlescence"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialPearlescenceSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialPearlescenceValueText"/>

                                        <TextBlock Text="Rust"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialRustSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialRustValueText"/>

                                        <TextBlock Text="Wear"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialWearSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialWearValueText"/>

                                        <TextBlock Text="Gunk"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialGunkSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialGunkValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Surface Texture" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Brush Strength"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialBrushStrengthSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialBrushStrengthValueText"/>

                                        <TextBlock Text="Brush Density"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialBrushDensitySlider" Minimum="4" Maximum="320"/>
                                        <TextBlock x:Name="MaterialBrushDensityValueText"/>

                                        <TextBlock Text="Surface Character"/>
                                        <controls:SpriteKnobSlider x:Name="MaterialCharacterSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MaterialCharacterValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Micro Detail LOD (Debug)" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <CheckBox x:Name="SpiralNormalInfluenceCheckBox"
                                                  Content="Enable Spiral Normal Influence"/>

                                        <TextBlock Text="Basis Debug Mode"/>
                                        <ComboBox x:Name="BasisDebugModeCombo"/>

                                        <TextBlock Text="Normal LOD Fade Start"/>
                                        <controls:SpriteKnobSlider x:Name="MicroLodFadeStartSlider" Minimum="0.1" Maximum="10"/>
                                        <TextBlock x:Name="MicroLodFadeStartValueText"/>

                                        <TextBlock Text="Normal LOD Fade End"/>
                                        <controls:SpriteKnobSlider x:Name="MicroLodFadeEndSlider" Minimum="0.1" Maximum="12"/>
                                        <TextBlock x:Name="MicroLodFadeEndValueText"/>

                                        <TextBlock Text="Roughness LOD Boost"/>
                                        <controls:SpriteKnobSlider x:Name="MicroRoughnessLodBoostSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="MicroRoughnessLodBoostValueText"/>
                                    </StackPanel>
                                </Expander>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>

                    <TabItem x:Name="BrushTabItem" Header="Brush">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="10" Margin="4">
                                <TextBlock Text="Brush Paint" FontSize="18" FontWeight="SemiBold"/>
                                <TextBlock Text="LMB: paint, Cmd+LMB: orbit, MMB: pan"
                                           FontSize="11"
                                           Foreground="#A9B4BF"/>

                                <Expander x:Name="BrushAdvancedExpander" Header="Brush Controls" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <CheckBox x:Name="BrushPaintEnabledCheckBox"
                                                  Content="Enable Surface Painting"/>

                                        <Border Background="#1D242C"
                                                BorderBrush="#354352"
                                                BorderThickness="1"
                                                CornerRadius="6"
                                                Padding="8">
                                            <StackPanel Spacing="6">
                                                <TextBlock Text="Paint Layers"
                                                           FontSize="12"
                                                           FontWeight="SemiBold"/>
                                                <ListBox x:Name="PaintLayerListBox"
                                                         Height="112"/>
                                                <StackPanel Orientation="Horizontal" Spacing="6">
                                                    <Button x:Name="AddPaintLayerButton"
                                                            Content="Add Layer"
                                                            MinWidth="92"/>
                                                    <Button x:Name="DeletePaintLayerButton"
                                                            Content="Delete Layer"
                                                            MinWidth="100"/>
                                                </StackPanel>
                                                <TextBox x:Name="PaintLayerNameTextBox"
                                                         Watermark="Selected layer name"/>
                                                <StackPanel Orientation="Horizontal" Spacing="6">
                                                    <Button x:Name="RenamePaintLayerButton"
                                                            Content="Rename"
                                                            MinWidth="84"/>
                                                    <Button x:Name="ClearPaintLayerFocusButton"
                                                            Content="Show All Layers"
                                                            MinWidth="118"/>
                                                </StackPanel>
                                                <CheckBox x:Name="FocusPaintLayerCheckBox"
                                                          Content="Focus selected layer (dim others 25%)"/>
                                            </StackPanel>
                                        </Border>

                                        <TextBlock Text="Paint Channel"/>
                                        <ComboBox x:Name="BrushPaintChannelCombo"/>

                                        <Border x:Name="ScratchContextBannerBorder"
                                                Background="#27303A"
                                                BorderBrush="#3B4653"
                                                BorderThickness="1"
                                                CornerRadius="6"
                                                Padding="8"
                                                IsVisible="False">
                                            <TextBlock Text="Scratch mode active"
                                                       FontSize="11"
                                                       Foreground="#D8E2EA"/>
                                        </Border>

                                        <StackPanel x:Name="ColorChannelPanel" Spacing="4">
                                            <TextBlock Text="Color Paint Brush Color"/>
                                            <colorpicker:ColorPicker x:Name="BrushPaintColorPicker"
                                                                     IsAlphaEnabled="False"
                                                                     IsAlphaVisible="False"
                                                                     IsHexInputVisible="True"
                                                                     MinHeight="34"/>
                                            <TextBlock Text="Used when Paint Channel is Color"
                                                       FontSize="11"
                                                       Foreground="#A9B4BF"/>
                                        </StackPanel>

                                        <StackPanel x:Name="GeneralPaintPrimaryPanel" Spacing="6">
                                            <TextBlock Text="Brush Type (Paint)"/>
                                            <ComboBox x:Name="BrushTypeCombo"/>

                                            <TextBlock Text="Brush Size (px)"/>
                                            <controls:SpriteKnobSlider x:Name="BrushSizeSlider" Minimum="1" Maximum="320"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="BrushSizeValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="BrushSizeInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Brush Opacity"/>
                                            <controls:SpriteKnobSlider x:Name="BrushOpacitySlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="BrushOpacityValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="BrushOpacityInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel x:Name="GeneralPaintAdvancedPanel" Spacing="6">
                                            <TextBlock Text="Brush Darkness"/>
                                            <controls:SpriteKnobSlider x:Name="BrushDarknessSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="BrushDarknessValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="BrushDarknessInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Spray Random Spread"/>
                                            <controls:SpriteKnobSlider x:Name="BrushSpreadSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="BrushSpreadValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="BrushSpreadInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Paint Coat Metallic"/>
                                            <controls:SpriteKnobSlider x:Name="PaintCoatMetallicSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="PaintCoatMetallicValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="PaintCoatMetallicInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Paint Coat Roughness"/>
                                            <controls:SpriteKnobSlider x:Name="PaintCoatRoughnessSlider" Minimum="0.04" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="PaintCoatRoughnessValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="PaintCoatRoughnessInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Clear Coat Amount"/>
                                            <controls:SpriteKnobSlider x:Name="ClearCoatAmountSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ClearCoatAmountValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ClearCoatAmountInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Clear Coat Roughness"/>
                                            <controls:SpriteKnobSlider x:Name="ClearCoatRoughnessSlider" Minimum="0.04" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ClearCoatRoughnessValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ClearCoatRoughnessInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Anisotropy Angle (deg)"/>
                                            <controls:SpriteKnobSlider x:Name="AnisotropyAngleSlider" Minimum="-180" Maximum="180"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="AnisotropyAngleValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="AnisotropyAngleInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel x:Name="ScratchPrimaryPanel" Spacing="6" IsVisible="False">
                                            <Separator Margin="0,4,0,4"/>
                                            <TextBlock Text="Abrasion Type (Scratch)"/>
                                            <ComboBox x:Name="ScratchAbrasionTypeCombo"/>

                                            <TextBlock Text="Scratch Width (px)"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchWidthSlider" Minimum="1" Maximum="320"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchWidthValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchWidthInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Scratch Depth"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchDepthSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchDepthValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchDepthInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <StackPanel x:Name="ScratchAdvancedPanel" Spacing="6" IsVisible="False">
                                            <TextBlock Text="Scratch Drag Resistance"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchResistanceSlider" Minimum="0" Maximum="0.98"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchResistanceValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchResistanceInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Option Drag Depth Ramp"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchDepthRampSlider" Minimum="0" Maximum="0.02"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchDepthRampValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchDepthRampInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <Separator Margin="0,4,0,4"/>
                                            <TextBlock Text="Scratch Exposed Color"/>
                                            <TextBlock Text="R"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchExposeColorRSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchExposeColorRValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchExposeColorRInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                            <TextBlock Text="G"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchExposeColorGSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchExposeColorGValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchExposeColorGInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                            <TextBlock Text="B"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchExposeColorBSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchExposeColorBValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchExposeColorBInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Scratch Exposed Metallic"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchExposeMetallicSlider" Minimum="0" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchExposeMetallicValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchExposeMetallicInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>

                                            <TextBlock Text="Scratch Exposed Roughness"/>
                                            <controls:SpriteKnobSlider x:Name="ScratchExposeRoughnessSlider" Minimum="0.04" Maximum="1"/>
                                            <StackPanel Orientation="Horizontal" Spacing="8">
                                                <TextBlock x:Name="ScratchExposeRoughnessValueText" Width="88" VerticalAlignment="Center"/>
                                                <TextBox x:Name="ScratchExposeRoughnessInputTextBox"
                                                         Width="96"
                                                         HorizontalContentAlignment="Right"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <Button x:Name="ClearPaintMaskButton"
                                                Content="Clear Paint Mask"
                                                Width="160"/>
                                    </StackPanel>
                                </Expander>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>

                    <TabItem x:Name="CameraTabItem" Header="Camera">
                        <StackPanel Spacing="10" Margin="4">
                            <TextBlock Text="Camera" FontSize="18" FontWeight="SemiBold"/>
                            <TextBlock Text="Command + Left Drag: Orbit (Yaw/Pitch)"/>
                            <TextBlock Text="Middle Mouse Drag: Pan"/>
                            <TextBlock Text="Mouse Wheel: Zoom"/>
                            <TextBlock Text="R: Reset View"/>
                            <Button x:Name="ResetViewButton" Content="Reset View" Width="120"/>
                        </StackPanel>
                    </TabItem>

                    <TabItem x:Name="EnvironmentTabItem" Header="Environment">
                        <StackPanel Spacing="10" Margin="4">
                            <TextBlock Text="Environment" FontSize="18" FontWeight="SemiBold"/>

                            <TextBlock Text="Intensity"/>
                            <controls:SpriteKnobSlider x:Name="EnvIntensitySlider" Minimum="0" Maximum="3"/>
                            <TextBlock x:Name="EnvIntensityValueText"/>

                            <TextBlock Text="Roughness Response"/>
                            <controls:SpriteKnobSlider x:Name="EnvRoughnessMixSlider" Minimum="0" Maximum="1"/>
                            <TextBlock x:Name="EnvRoughnessMixValueText"/>

                            <Separator/>
                            <TextBlock Text="Sky Color (Top)"/>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="R" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvTopRSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvTopRValueText" Width="36"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="G" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvTopGSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvTopGValueText" Width="36"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="B" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvTopBSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvTopBValueText" Width="36"/>
                            </StackPanel>

                            <Separator/>
                            <TextBlock Text="Ground Color (Bottom)"/>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="R" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvBottomRSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvBottomRValueText" Width="36"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="G" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvBottomGSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvBottomGValueText" Width="36"/>
                            </StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8">
                                <TextBlock Text="B" Width="14"/>
                                <controls:SpriteKnobSlider x:Name="EnvBottomBSlider" Minimum="0" Maximum="1" Width="210"/>
                                <TextBlock x:Name="EnvBottomBValueText" Width="36"/>
                            </StackPanel>
                        </StackPanel>
                    </TabItem>

                    <TabItem x:Name="ShadowsTabItem" Header="Shadows">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Spacing="10" Margin="4">
                                <TextBlock Text="Shadows" FontSize="18" FontWeight="SemiBold"/>

                                <Expander Header="Enable" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <CheckBox x:Name="ShadowEnabledCheckBox"
                                                  Content="Enable Dynamic Light-Driven Shadow"/>
                                        <TextBlock Text="Light Source Mode"/>
                                        <ComboBox x:Name="ShadowSourceModeCombo"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Projection" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Distance"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowDistanceSlider" Minimum="0" Maximum="2.5"/>
                                        <TextBlock x:Name="ShadowDistanceValueText"/>

                                        <TextBlock Text="Scale"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowScaleSlider" Minimum="0.7" Maximum="1.6"/>
                                        <TextBlock x:Name="ShadowScaleValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Softness" IsExpanded="True">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Softness"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowSoftnessSlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="ShadowSoftnessValueText"/>

                                        <TextBlock Text="Quality"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowQualitySlider" Minimum="0" Maximum="1"/>
                                        <TextBlock x:Name="ShadowQualityValueText"/>
                                    </StackPanel>
                                </Expander>

                                <Expander Header="Appearance" IsExpanded="False">
                                    <StackPanel Spacing="6" Margin="0,6,0,0">
                                        <TextBlock Text="Strength"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowStrengthSlider" Minimum="0" Maximum="2.5"/>
                                        <TextBlock x:Name="ShadowStrengthValueText"/>

                                        <TextBlock Text="Shadow Gray"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowGraySlider" Minimum="0" Maximum="0.6"/>
                                        <TextBlock x:Name="ShadowGrayValueText"/>

                                        <TextBlock Text="Diffuse Influence"/>
                                        <controls:SpriteKnobSlider x:Name="ShadowDiffuseInfluenceSlider" Minimum="0" Maximum="2"/>
                                        <TextBlock x:Name="ShadowDiffuseInfluenceValueText"/>
                                    </StackPanel>
                                </Expander>
                            </StackPanel>
                        </ScrollViewer>
                    </TabItem>
                    </TabControl>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</Window>
